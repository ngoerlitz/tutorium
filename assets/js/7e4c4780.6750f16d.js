"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[272],{5020:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var i=n(7624),t=n(2172);const r={title:"Woche 5"},a="Woche 5 - Speicherverwaltung",l={id:"spr/woche5",title:"Woche 5",description:"Arten der Speicherverwaltung",source:"@site/docs/spr/woche5.md",sourceDirName:"spr",slug:"/spr/woche5",permalink:"/tutorium/docs/spr/woche5",draft:!1,unlisted:!1,editUrl:"https://github.com/ngoerlitz/tutorium/docs/spr/woche5.md",tags:[],version:"current",frontMatter:{title:"Woche 5"},sidebar:"tutorialSidebar",previous:{title:"Woche 4",permalink:"/tutorium/docs/spr/woche4"}},c={},d=[{value:"Arten der Speicherverwaltung",id:"arten-der-speicherverwaltung",level:2},{value:"Speicherauslastung und Verschnitt",id:"speicherauslastung-und-verschnitt",level:2},{value:"Page Faults (Seitenfehler)",id:"page-faults-seitenfehler",level:2},{value:"Virtueller Speicher",id:"virtueller-speicher",level:2},{value:"Adress\xfcbersetzungsverfahren",id:"adress\xfcbersetzungsverfahren",level:3},{value:"Beispiel",id:"beispiel",level:4},{value:"Status-Bits der Seitentabelle",id:"status-bits-der-seitentabelle",level:3}];function h(e){const s={a:"a",admonition:"admonition",annotation:"annotation",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msup:"msup",ol:"ol",p:"p",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.M)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h1,{id:"woche-5---speicherverwaltung",children:"Woche 5 - Speicherverwaltung"}),"\n",(0,i.jsx)(s.h2,{id:"arten-der-speicherverwaltung",children:"Arten der Speicherverwaltung"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Verkettete Liste: Statusinformationen vor jedem Block (Gro\xdfe, frei oder belegt). Kein interner \xa8\nVerschnitt, dafur hoher externer Verschnitt, Fragmentierung, lange Suchlaufzeiten. \xa8"}),"\n",(0,i.jsxs)(s.li,{children:["Slab (hier Fokus Betriebssysteme, gibt es aber auch bei Programmiersprachen/Userspace): kmalloc() und Verwandte alloziieren Vielfache der Kachelgro\xdfe. Betriebssystem und \xa8\nKerneltreiber nutzen jedoch haufig Strukturen die um Vielfache kleiner sind und meist nur \xa8\nkurzlebig: inodes, task structs, semaphores, etc. sodass Nutzung von kmalloc() sehr ineffizient.\nLosung: Nutzung eines globalen Kernel Caching Allokators, welcher f \xa8 ur Anfragen von OS und \xa8\nDrivern passende Blocke bereith \xa8 alt. Somit schnelle Zugriffszeiten und perfekte Ausnutzung des \xa8\nSpeichers (fast kein Verschnitt). Mogliche Nachteile, einsatzbedingt, siehe VL-Folie. \xa8\nQuelle mit guten Darstellungen (leicht veraltet):\n",(0,i.jsx)(s.a,{href:"http://www.secretmango.com/jimb/Whitepapers/slabs/slab.html",children:"http://www.secretmango.com/jimb/Whitepapers/slabs/slab.html"}),"."]}),"\n",(0,i.jsx)(s.li,{children:"Buddy Verfahren: auch hier interner Verschnitt gro\xdf, und sichtbar mehr Verwaltungsdaten als die anderen, wenig externer Verschnitt."}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"speicherauslastung-und-verschnitt",children:"Speicherauslastung und Verschnitt"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"speicher_verschnitt",src:n(6912).c+"",width:"870",height:"195"})}),"\n",(0,i.jsx)(s.h2,{id:"page-faults-seitenfehler",children:"Page Faults (Seitenfehler)"}),"\n",(0,i.jsx)(s.p,{children:"Page Fault: Programm versucht auf eine Seite zuzugreifen, welche gerade nicht im virtuellen\nAdressraum des Prozesses ist (von MMU verwaltet). BS versucht die Seite zugreifbar zu machen\n(laden, swap oder abort Programm).\nSegmentation Fault: Unberechtigter Speicherzugriff (keine Rechte, Adresse nicht aligned).\nBetriebssystem reagiert mit Signal an Prozess, z.B. SIGSEGV (unter UNIXartigen) fur\xa8 segmentation violation. Programm kann darauf mit eigenem Handler reagieren oder wird terminiert."}),"\n",(0,i.jsx)(s.admonition,{title:"Information",type:"info",children:(0,i.jsxs)(s.p,{children:["Eine ",(0,i.jsx)(s.code,{children:"NULL"}),"-Pointer Referenz ist typischerweise ein invalid page fault resultierend in einem\nSegmentation Fault."]})}),"\n",(0,i.jsx)(s.h2,{id:"virtueller-speicher",children:"Virtueller Speicher"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Effiziente Nutzung des Speichers"}),": In einem Computersystem ist der physische Speicher (RAM) oft begrenzt. Durch die Verwendung virtueller Adressen k\xf6nnen Betriebssysteme den verf\xfcgbaren Speicher effizienter nutzen, indem sie Teile des Speichers auf der Festplatte (Swap-Speicher) als Erweiterung des physischen Speichers nutzen. So kann ein System mehr Programme oder gr\xf6\xdfere Programme ausf\xfchren, als es der tats\xe4chliche physische Speicher zulassen w\xfcrde."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Prozessisolierung"}),": Jeder Prozess im System erh\xe4lt seinen eigenen virtuellen Adressraum, der von den Adressr\xe4umen anderer Prozesse isoliert ist. Diese Isolierung verhindert, dass ein Prozess die Daten eines anderen Prozesses unerlaubt liest oder ver\xe4ndert, was zur Systemsicherheit und Stabilit\xe4t beitr\xe4gt."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Speicherschutz"}),": Das Adress\xfcbersetzungsverfahren erm\xf6glicht es dem Betriebssystem, Zugriffsrechte f\xfcr bestimmte Speicherbereiche zu definieren. So kann beispielsweise verhindert werden, dass Anwendungssoftware Schreibzugriffe auf Speicherbereiche ausf\xfchrt, die f\xfcr das Betriebssystem oder andere kritische Prozesse reserviert sind."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"adress\xfcbersetzungsverfahren",children:"Adress\xfcbersetzungsverfahren"}),"\n",(0,i.jsx)(s.p,{children:"Das Adress\xfcbersetzungsverfahren wird genutzt um virtuelle in physische Speicheradressen zu \xfcbersetzen. Das folgende Diagramm illustriert die daf\xfcr genutzten Verfahren. Die elementaren Bausteine (1-5) werden folgend auch weiter erkl\xe4rt."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"virt_addr_uebersetzung",src:n(6452).c+"",width:"1736",height:"819"})}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:['Virtuelle Adresse: Die Virtuelle Adresse ist die, die der Prozess "sieht"/"nutzt". Sobald der Prozess auf Speicher zugreifen m\xf6chte, muss die Adresse \xfcbersetzt werden um auf den physischen Speicher zugreifen zu k\xf6nnen. Die virtuelle Adresse wird in zwei Teile, n\xe4mlich die ',(0,i.jsx)(s.strong,{children:"Seitennummer"})," sowie den ",(0,i.jsx)(s.strong,{children:"Offset"})," aufgeteilt."]}),"\n",(0,i.jsxs)(s.li,{children:["Tabellenbasisadresse: Diese enth\xe4lt die ",(0,i.jsx)(s.em,{children:"physische Adresse"})," des ersten Eintrags der Seitentabelle."]}),"\n",(0,i.jsxs)(s.li,{children:["Der Seitenindex, sowie Tabellenbasisadresse werden addiert um den entsprechenden Eintrag der Seitentabelle bestimmen zu k\xf6nnen. Anders gesagt nutzen wir den Seitenindex als ",(0,i.jsx)(s.em,{children:"Index"})," f\xfcr die Seitentabelle. Ein Seitenindex von ",(0,i.jsx)(s.code,{children:"0x2"}),' w\xfcrde also den zweiten Eintrag der Seitentabelle "ansprechen".']}),"\n",(0,i.jsxs)(s.li,{children:["Seitentabelle: Die Seitentabelle enth\xe4lt die Kachelnummern der dazugeh\xf6rigen Seitennummer im virtuellen Speicher. Zus\xe4tzlich dazu enth\xe4lt es weitere ",(0,i.jsx)(s.a,{href:"#status-bits-der-seitentabelle",children:"Status-Bits"})," um den aktuellen Zustand der Seite zu markieren."]}),"\n",(0,i.jsxs)(s.li,{children:["Physischer Speicher: Im physischen Speicher sind die Daten letztendlich gespeichert. Dieses ist in Kacheln (engl. Page Frames) unterteilt. In modernen Architekturen entspricht die Gr\xf6\xdfe der Kacheln oft ",(0,i.jsx)(s.code,{children:"4096 Byte"})," (",(0,i.jsx)(s.code,{children:"4 kB"}),")."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h4,{id:"beispiel",children:"Beispiel"}),"\n",(0,i.jsx)(s.p,{children:"Wir schauen uns nun anhand des folgenden Beispiels die Handsimulation (bzw. das manuelle \xdcbersetzen der Speicheradressen) an."}),"\n",(0,i.jsx)(s.admonition,{title:"Erinnerung",type:"info",children:(0,i.jsxs)(s.p,{children:["Mit ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mi,{children:"n"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,i.jsx)(s.span,{className:"mord mathnormal",children:"n"})]})})]})," Bits k\xf6nnen wir ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsxs)(s.msup,{children:[(0,i.jsx)(s.mn,{children:"2"}),(0,i.jsx)(s.mi,{children:"n"})]})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"2^n"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6644em"}}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mord",children:"2"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsx)(s.span,{className:"vlist-t",children:(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.6644em"},children:(0,i.jsxs)(s.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"n"})})]})})})})})]})]})})]})," unterschiedliche Werte abbilden. N\xe4mlich alle Zahlen im Intervall: ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mo,{stretchy:"false",children:"["}),(0,i.jsx)(s.mn,{children:"0"}),(0,i.jsx)(s.mo,{separator:"true",children:","}),(0,i.jsxs)(s.msup,{children:[(0,i.jsx)(s.mn,{children:"2"}),(0,i.jsx)(s.mi,{children:"n"})]}),(0,i.jsx)(s.mo,{children:"\u2212"}),(0,i.jsx)(s.mn,{children:"1"}),(0,i.jsx)(s.mo,{stretchy:"false",children:"]"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"[0, 2^n-1]"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(s.span,{className:"mopen",children:"["}),(0,i.jsx)(s.span,{className:"mord",children:"0"}),(0,i.jsx)(s.span,{className:"mpunct",children:","}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mord",children:"2"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsx)(s.span,{className:"vlist-t",children:(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.6644em"},children:(0,i.jsxs)(s.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"n"})})]})})})})})]}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(s.span,{className:"mbin",children:"\u2212"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(s.span,{className:"mord",children:"1"}),(0,i.jsx)(s.span,{className:"mclose",children:"]"})]})]})]}),"."]})}),"\n",(0,i.jsxs)(s.p,{children:["Ordnen Sie mithilfe der Seitentabelle den folgenden virtuellen Adressen ihre physische Adresse zu.\nDie Seitentabelle hat ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsxs)(s.msup,{children:[(0,i.jsx)(s.mn,{children:"2"}),(0,i.jsx)(s.mn,{children:"4"})]}),(0,i.jsx)(s.mo,{children:"="}),(0,i.jsx)(s.mn,{children:"16"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"2^4 = 16"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.8141em"}}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mord",children:"2"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsx)(s.span,{className:"vlist-t",children:(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.8141em"},children:(0,i.jsxs)(s.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mtight",children:"4"})})]})})})})})]}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"="}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(s.span,{className:"mord",children:"16"})]})]})]})," Eintrage und liegt in einem (physischen) Speicher von ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsxs)(s.msup,{children:[(0,i.jsx)(s.mn,{children:"2"}),(0,i.jsx)(s.mn,{children:"8"})]})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"2^8"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.8141em"}}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mord",children:"2"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsx)(s.span,{className:"vlist-t",children:(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.8141em"},children:(0,i.jsxs)(s.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mtight",children:"8"})})]})})})})})]})]})})]})," Byte. Die Tabellenbasisadresse ist ",(0,i.jsx)(s.code,{children:"0x9E"}),". F\xfcr das erste Beispiel, betrachten wir die virtuelle Adresse ",(0,i.jsx)(s.code,{children:"0x2B"}),"."]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Bestimmung der Bitanzahl f\xfcr Seitennummer und Offset"}),":"]}),"\n",(0,i.jsxs)(s.p,{children:["Da die Seitentabelle ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsxs)(s.msup,{children:[(0,i.jsx)(s.mn,{children:"2"}),(0,i.jsx)(s.mn,{children:"4"})]}),(0,i.jsx)(s.mo,{children:"="}),(0,i.jsx)(s.mn,{children:"16"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"2^4 = 16"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.8141em"}}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mord",children:"2"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsx)(s.span,{className:"vlist-t",children:(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.8141em"},children:(0,i.jsxs)(s.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mtight",children:"4"})})]})})})})})]}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"="}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(s.span,{className:"mord",children:"16"})]})]})]})," Eintr\xe4ge hat, ben\xf6tigen wir ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mn,{children:"4"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"4"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(s.span,{className:"mord",children:"4"})]})})]})," Bits, um jede Seite zu indizieren."]}),"\n",(0,i.jsxs)(s.p,{children:["Die zu \xfcbersetzende Adresse ",(0,i.jsx)(s.code,{children:"0x2B"})," l\xe4sst sich also in ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mn,{children:"8"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"8"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(s.span,{className:"mord",children:"8"})]})})]})," Bit (",(0,i.jsx)(s.code,{children:"0010 1011"}),") darstellen. Wir ben\xf6tigen ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mn,{children:"4"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"4"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(s.span,{className:"mord",children:"4"})]})})]})," Bit f\xfcr die Seitennummer. Es bleiben entsprechend ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mn,{children:"4"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"4"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(s.span,{className:"mord",children:"4"})]})})]})," Bit f\xfcr den Offset \xfcbrig."]}),"\n",(0,i.jsx)(s.admonition,{title:"Erinnerung",type:"info",children:(0,i.jsxs)(s.p,{children:['Jedes "Zeichen" in Hexadezimal l\xe4sst sich als ',(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mn,{children:"4"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"4"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(s.span,{className:"mord",children:"4"})]})})]})," Bits darstellen. So ist bspw. ",(0,i.jsx)(s.code,{children:"0xA"})," = ",(0,i.jsx)(s.code,{children:"1010"}),"."]})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsxs)(s.strong,{children:["Aufteilung der virtuellen Adresse ",(0,i.jsx)(s.code,{children:"0x2B"})]}),":"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"0x2B"})," = ",(0,i.jsx)(s.code,{children:"0010 1011"})]}),"\n",(0,i.jsxs)(s.p,{children:["Die ersten ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mn,{children:"4"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"4"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(s.span,{className:"mord",children:"4"})]})})]})," Bits geben die Seitennummer an, und die letzten ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mn,{children:"4"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"4"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(s.span,{className:"mord",children:"4"})]})})]})," Bits stellen den Offset dar."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Seitennummer = ",(0,i.jsx)(s.code,{children:"0010"})," = ",(0,i.jsx)(s.code,{children:"0x2"})]}),"\n",(0,i.jsxs)(s.li,{children:["Offset = ",(0,i.jsx)(s.code,{children:"1011"})," = ",(0,i.jsx)(s.code,{children:"0xB"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Ermittlung der Kachelnummer"}),":"]}),"\n",(0,i.jsxs)(s.p,{children:["Die Tabellenbasisadresse betr\xe4gt ",(0,i.jsx)(s.code,{children:"0x9E"}),". Um die Adresse in der Seitentabelle zu finden, die der Seitennummer entspricht, addieren wir den Seitenindex zur Tabellenbasisadresse: ",(0,i.jsx)(s.code,{children:"0x9E + 0x2 = 0xA0"}),".\nWir suchen dann in der Seitentabelle nach dem Eintrag an der Adresse ",(0,i.jsx)(s.code,{children:"0xA0"}),". Die Kachelnummer an dieser Adresse entspricht ",(0,i.jsx)(s.code,{children:"0xF"}),"."]}),"\n",(0,i.jsx)(s.admonition,{title:"Hinweis",type:"info",children:(0,i.jsxs)(s.p,{children:["Wie oben angesprochen nutzen wir die Seitennummer um die Eintr\xe4ge der Seitentabelle zu indizieren. \xc4hnlich wie in einem C-Array k\xf6nnen wir uns die Seitennummer als Array-Index vorstellen. Ausgehend von der Tabellenbasisadresse ",(0,i.jsx)(s.code,{children:"0x9E"}),", ist ",(0,i.jsx)(s.code,{children:"0x2"})," also der dritte (wir z\xe4hlen ab ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mn,{children:"0"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"0"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(s.span,{className:"mord",children:"0"})]})})]}),") Eintrag in der Seitentabelle. Im Beispiel unten w\xe4re das also ",(0,i.jsx)(s.code,{children:"0xA2"}),"."]})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Zusammensetzung der physischen Adresse"}),":"]}),"\n",(0,i.jsxs)(s.p,{children:["Die physische Adresse wird gebildet, indem wir die Kachelnummer (",(0,i.jsx)(s.code,{children:"0xF"}),") mit dem aus der virtuellen Adresse berechneten Offset (",(0,i.jsx)(s.code,{children:"0xB"}),") konkatenieren. Die physische Adresse entspricht also ",(0,i.jsx)(s.code,{children:"0xFB"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"center"},children:"Speicheradresse"}),(0,i.jsx)(s.th,{style:{textAlign:"center"},children:"Daten"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0x9A"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0x4"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0x9B"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0x5"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0x9C"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0x2"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0x9D"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0x1"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0x9E"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0x0"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0xA0"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0xF"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0xA1"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0xA"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0xA2"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0xC"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0xA3"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"0xD"})]})]})]}),"\n",(0,i.jsx)(s.p,{children:"Abbildung 1: Beispielhafte Seitentabelle"}),"\n",(0,i.jsx)(s.h3,{id:"status-bits-der-seitentabelle",children:"Status-Bits der Seitentabelle"}),"\n",(0,i.jsx)(s.p,{children:"Die Seitentabelle enth\xe4lt, zus\xe4tzlich zur Kachelnummer, weitere Metadaten (Status-Bits) die vom Betriebssystem/der CPU genutzt werden. Ein paar Beispiele:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Pr\xe4senzbit (P) - Ist die Seite im Hauptspeicher vorhanden?"}),"\n",(0,i.jsx)(s.li,{children:"Referenzbit (R) oder Access Bit (A) - Wurde auf die Seite bereits zugegriffen?"}),"\n",(0,i.jsx)(s.li,{children:"Modifikationsbit (M) oder Dirty Bit (D) - Wurde die Seite modifiziert (bspw. durch Schreiben)?"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Ein Beispiel f\xfcr die Notwendigkeit dieser Bits:\nFalls die Seite ausgelagert wird, muss das Betriebssystem wissen, ob die \xc4nderungen im Speicher auf die Festplatte geschrieben werden m\xfcssen, oder ob die Seite verworfen werden kann. Daf\xfcr wird bspw. das Pr\xe4senzbit (P) genutzt."})]})}function m(e={}){const{wrapper:s}={...(0,t.M)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},6912:(e,s,n)=>{n.d(s,{c:()=>i});const i=n.p+"assets/images/w5_verschnitt-eaaa31941c27f062e3e0f2176e008bdc.png"},6452:(e,s,n)=>{n.d(s,{c:()=>i});const i=n.p+"assets/images/w5_virt_addr_uebersetzung-da53ba400ac282494851d36fbb113bed.png"},2172:(e,s,n)=>{n.d(s,{I:()=>l,M:()=>a});var i=n(1504);const t={},r=i.createContext(t);function a(e){const s=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);